# CIM540 Final Project

## E-Assistant Director

#### Setup
To preload a screenplay, I used a preload function where I loaded the strings of a text file/screenplay. I made sure to test films of different varities: <i>All is Lost</i> is a film with very little dialogue and plenty of scene description; <i>Buried</i> is a film that takes place in very few locations with multiple characters; <i>Her</i>, which just so happens to be my favorite film, contains plenty of characters, scene description, and dialogue.

#### Scene Information
In a screenplay, every scene begins with either the word 'INT.' or 'EXT.' indicating whether the scene occurs inside or outside. So first thing I did was loop through every line of the screenplay and found every line that began with 'INT.' or 'EXT.' and pushed them into their own intScene or extScene array for later use. After, I pushed the line number of the scene heading into the first element of a sceneBoundary array, which is an array that holds the line in which the scene begins and ends. To find the last line of the scene, I looped through the sceneBoundary array and found the line before the next scene line. I then used the slice function to pull the contents of the lines within the boundaries I specified in the sceneBoundary array. I pushed those lines into their own 3D array of scenes and their lines called sceneContent. This array will be extremely important in the 'Character Information' section. 

#### Character Information
I needed to create an array of characters, which I called characterArray. In characterArray I wanted to have the names of the characters and how many total lines of dialogue they have. First thing I have to do is grab all the characters. I used a nested for loop to go through every line of every scene in the screenplay (sceneContent), and looked for lines which contained a word that was fully capitalized (note that I left out the scene heading line, beacuse it's always fully capitalized). A simple regular expression was much easier than using the JavaScript function toUpperCase. I tokenized (using the RiTa library) all those lines and pushed them, along with the scene and line they appear in, into an array of words (called wordArray). I iterated through the wordArray and found all the words that were fully capitalized, for which I incremented a counter. I then compared that counter to the length of the line the all-caps word appeared in to determine if it was a piece of dialogue (lines of dialogue begin with a line solely listing the character name, in all-caps, who is speaking). If they were equal, I pushed them into an array of character names (called characterArray). To find how many total lines of dialogue a character had, I iterated through the characterArray, and the sceneContent array, and found how many times a character appeared on a line, in all caps, by itself (idicating dialogue). I then pushed the name of the character, along with the number of lines of dialogue in which they have, into their own array called characterInfo.